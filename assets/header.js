import{e as j,r as n,j as a,S as $,c as v,z as F,U as T,L as q,A as B}from"./main2.js";import{S as z}from"./index6.js";import{D as H,a as O,b as G,c as U,e as K,d as V}from"./dropdown-menu.js";import{I as W}from"./input.js";import"./chevron-right.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=j("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=j("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function X(e,t=[]){let r=[];function s(l,c){const i=n.createContext(c),d=r.length;r=[...r,c];function u(f){const{scope:m,children:p,...x}=f,k=(m==null?void 0:m[e][d])||i,D=n.useMemo(()=>x,Object.values(x));return a.jsx(k.Provider,{value:D,children:p})}function w(f,m){const p=(m==null?void 0:m[e][d])||i,x=n.useContext(p);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${l}\``)}return u.displayName=l+"Provider",[u,w]}const o=()=>{const l=r.map(c=>n.createContext(c));return function(i){const d=(i==null?void 0:i[e])||l;return n.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[s,Y(o,...t)]}function Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((i,{useScope:d,scopeName:u})=>{const f=d(l)[`__scope${u}`];return{...i,...f}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function Z(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}var S=globalThis!=null&&globalThis.document?n.useLayoutEffect:()=>{},ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],g=ee.reduce((e,t)=>{const r=n.forwardRef((s,o)=>{const{asChild:l,...c}=s,i=l?$:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(i,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),h="Avatar",[te,le]=X(h),[ae,N]=te(h),A=n.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[o,l]=n.useState("idle");return a.jsx(ae,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:a.jsx(g.span,{...s,ref:t})})});A.displayName=h;var b="AvatarImage",y=n.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...l}=e,c=N(b,r),i=re(s),d=Z(u=>{o(u),c.onImageLoadingStatusChange(u)});return S(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?a.jsx(g.img,{...l,ref:t,src:s}):null});y.displayName=b;var C="AvatarFallback",L=n.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...o}=e,l=N(C,r),[c,i]=n.useState(s===void 0);return n.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(d)}},[s]),c&&l.imageLoadingStatus!=="loaded"?a.jsx(g.span,{...o,ref:t}):null});L.displayName=C;function re(e){const[t,r]=n.useState("idle");return S(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,l=c=>()=>{s&&r(c)};return r("loading"),o.onload=l("loaded"),o.onerror=l("error"),o.src=e,()=>{s=!1}},[e]),t}var M=A,E=y,_=L;const I=n.forwardRef(({className:e,...t},r)=>a.jsx(M,{ref:r,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));I.displayName=M.displayName;const P=n.forwardRef(({className:e,...t},r)=>a.jsx(E,{ref:r,className:v("aspect-square h-full w-full",e),...t}));P.displayName=E.displayName;const R=n.forwardRef(({className:e,...t},r)=>a.jsx(_,{ref:r,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));R.displayName=_.displayName;const de=()=>{const{isAuthenticated:e,user:t,isLoading:r,loginWithRedirect:s,logout:o}=F();return a.jsxs("header",{className:"flex items-center justify-between px-5 py-7",children:[a.jsxs("div",{className:"relative w-full max-w-sm overflow-hidden rounded-full bg-white p-1 shadow-sidebar",children:[a.jsx(W,{placeholder:"Search...",className:" rounded-full border-none bg-transparent pr-10 text-xs focus-visible:border-none focus-visible:ring-blue-600 focus-visible:ring-offset-2"}),a.jsx(Q,{className:"absolute right-4 top-4 size-4 text-blue-700"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(z,{orientation:"vertical",className:"w-0.5"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-full border bg-white p-3",children:a.jsx(J,{className:"size-5"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("div",{className:"text-sm font-semibold",children:(t==null?void 0:t.nickname)||"Anonymous"}),a.jsx("div",{className:"text-xs text-blue-700",children:"Executive Producer"})]}),a.jsxs(H,{children:[a.jsx(O,{children:a.jsxs(I,{className:"size-16 border p-2",children:[a.jsx(P,{src:e?t==null?void 0:t.picture:T,className:"rounded-full"}),a.jsx(R,{children:"AP"})]})}),a.jsx(G,{children:r?a.jsx(q,{className:"min-h-20",children:a.jsx(B,{className:"stroke-indigo-800"})}):a.jsxs(a.Fragment,{children:[a.jsx(U,{children:"My Account"}),a.jsx(K,{}),a.jsx(V,{onClick:()=>e?o({logoutParams:{returnTo:window.location.origin}}):s(),children:e?"Logout":"Login"})]})})]})]})]})]})};export{de as default};
